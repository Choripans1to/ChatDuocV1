BEGIN TRANSACTION;

CREATE TABLE IF NOT EXISTS asignaturas (
    id_asignatura TEXT PRIMARY KEY,
    nombre TEXT NOT NULL,
    periodo INTEGER NOT NULL,
    creditos INTEGER,
    horario_recomendado TEXT
);

CREATE TABLE IF NOT EXISTS secciones (
    id_seccion TEXT PRIMARY KEY,
    id_asignatura TEXT NOT NULL,
    profesor TEXT NOT NULL,
    cupos_restantes INTEGER NOT NULL CHECK(cupos_restantes >= 0),
    horario TEXT NOT NULL,
    turno TEXT NOT NULL,
    FOREIGN KEY (id_asignatura) REFERENCES asignaturas(id_asignatura)
);

CREATE TABLE IF NOT EXISTS prerrequisitos (
    id_asignatura TEXT NOT NULL,
    id_requisito TEXT NOT NULL,
    PRIMARY KEY (id_asignatura, id_requisito),
    FOREIGN KEY (id_asignatura) REFERENCES asignaturas(id_asignatura),
    FOREIGN KEY (id_requisito) REFERENCES asignaturas(id_asignatura)
);

CREATE INDEX IF NOT EXISTS idx_asignaturas_periodo ON asignaturas(periodo);
CREATE INDEX IF NOT EXISTS idx_secciones_asignatura ON secciones(id_asignatura);
CREATE INDEX IF NOT EXISTS idx_secciones_turno ON secciones(turno);

INSERT OR REPLACE INTO asignaturas (id_asignatura, nombre, periodo, creditos, horario_recomendado)
VALUES

('MBD-101','Modelamiento de Base de Datos',1,NULL,NULL),
('DGR-102','Diseño y Gestión de Requisitos',1,NULL,NULL),
('PAL-103','Programación de Algoritmos',1,NULL,NULL),
('ING1-104','Inglés Básico I',1,NULL,NULL),
('HBC-105','Habilidades Básicas de Comunicación',1,NULL,NULL),
('NMA-106','Nivelación Matemática',1,NULL,NULL),
('PORT1-107','Proceso de Portafolio',1,NULL,NULL),
('CBD-201','Consultas de Bases de Datos',2,NULL,NULL),
('DPR-202','Diseño de Prototipos',2,NULL,NULL),
('DSE-203','Desarrollo de Software de Escritorio',2,NULL,NULL),
('ING2-204','Inglés Básico II',2,NULL,NULL),
('FAN-205','Fundamentos de Antropología',2,NULL,NULL),
('HCE-206','Habilidades de Comunicación Efectiva',2,NULL,NULL),
('MATAP-207','Matemática Aplicada',2,NULL,NULL),
('PORT2-208','Proceso de Portafolio 2',2,NULL,NULL),
('PBD-301','Programación de Base de Datos',3,NULL,NULL),
('ISW-302','Ingeniería de Software',3,NULL,NULL),
('PW-303','Programación Web',3,NULL,NULL),
('INGE-304','Inglés Elemental',3,NULL,NULL),
('PFC-305','Principios de la Fe Cristiana',3,NULL,NULL),
('MEMP-306','Mentalidad Emprendedora',3,NULL,NULL),
('PORT3-307','Proceso de Portafolio 3',3,NULL,NULL),
('PAM-401','Programación de Aplicaciones Móviles',4,NULL,NULL),
('INGI-402','Inglés Intermedio',4,NULL,NULL),
('ARQ-403','Arquitectura',4,NULL,NULL),
('CALS-404','Calidad de Software',4,NULL,NULL),
('ESTD-405','Estadística Descriptiva',4,NULL,NULL),
('EPT-406','Ética para el Trabajo',4,NULL,NULL),
('PORT4-407','Proceso de Portafolio 4',4,NULL,NULL),
('INGA-501','Inglés Intermedio Alto',5,NULL,NULL),
('INTPL-502','Integración de Plataformas',5,NULL,NULL),
('EVPR-503','Evaluación de Proyectos',5,NULL,NULL),
('BPM-504','BPM',5,NULL,NULL),
('TCS-505','Técnicas de Calidad de Software',5,NULL,NULL),
('PORT5-506','Proceso de Portafolio 5',5,NULL,NULL),
('PLAB-507','Práctica Laboral',5,NULL,NULL),
('SSC-601','Seguridad en Sistemas Computacionales',6,NULL,NULL),
('GPI-602','Gestión de Proyectos Informáticos',6,NULL,NULL),
('INEG-603','Inteligencia de Negocios',6,NULL,NULL),
('ML-604','Machine Learning',6,NULL,NULL),
('HEMP-605','Herramientas para el Emprendimiento',6,NULL,NULL),
('IEP-606','Integrated English Practice',6,NULL,NULL),
('ETIP-607','Ética Profesional',6,NULL,NULL),
('PORT6-608','Proceso de Portafolio 6',6,NULL,NULL),
('GDRI-701','Gestión de Riesgos',7,NULL,NULL),
('BDAT-702','Big Data',7,NULL,NULL),
('MIND-703','Minería de Datos',7,NULL,NULL),
('DL-704','Deep Learning',7,NULL,NULL),
('PORTF-705','Proceso de Portafolio Final',7,NULL,NULL),
('PPRO-801','Práctica Profesional',8,NULL,NULL),
('CAP-802','Capstone',8,NULL,NULL);


INSERT OR REPLACE INTO secciones (id_seccion, id_asignatura, profesor, cupos_restantes, horario, turno)
VALUES

('MBD-101-01','MBD-101','Laura Gómez',23,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('MBD-101-02','MBD-101','Lorena Salazar',12,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('DGR-102-01','DGR-102','Carlos Ibáñez',22,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('DGR-102-02','DGR-102','Andrés Calderón',10,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('PAL-103-01','PAL-103','Paula Gutiérrez',25,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('PAL-103-02','PAL-103','Alejandro Contreras',14,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('ING1-104-01','ING1-104','Raúl Vega',19,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('ING1-104-02','ING1-104','Raúl Vega',13,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('HBC-105-01','HBC-105','Lorena Salazar',19,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('HBC-105-02','HBC-105','Elena Ríos',14,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('NMA-106-01','NMA-106','Sergio Valdés',22,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('NMA-106-02','NMA-106','Pedro Luna',14,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('PORT1-107-01','PORT1-107','Elena Ríos',23,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('PORT1-107-02','PORT1-107','Rodrigo Rivas',14,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('CBD-201-01','CBD-201','Pedro Luna',21,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('CBD-201-02','CBD-201','Javiera Pino',10,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('DPR-202-01','DPR-202','Víctor Mella',18,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('DPR-202-02','DPR-202','Natalia Fuentes',11,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('DSE-203-01','DSE-203','Beatriz Morales',22,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('DSE-203-02','DSE-203','Carlos Ibáñez',10,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('ING2-204-01','ING2-204','Valeria Castro',21,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('ING2-204-02','ING2-204','José Pérez',10,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('FAN-205-01','FAN-205','Daniela Mora',24,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('FAN-205-02','FAN-205','Paula Gutiérrez',12,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('HCE-206-01','HCE-206','Alejandro Contreras',25,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('HCE-206-02','HCE-206','Marcela Ortega',12,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('MATAP-207-01','MATAP-207','Rodrigo Rivas',20,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('MATAP-207-02','MATAP-207','Valeria Castro',12,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('PORT2-208-01','PORT2-208','Javiera Pino',23,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('PORT2-208-02','PORT2-208','Sergio Valdés',11,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('PBD-301-01','PBD-301','Natalia Fuentes',22,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('PBD-301-02','PBD-301','Diego Bustos',10,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('ISW-302-01','ISW-302','Karina Paz',20,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('ISW-302-02','ISW-302','Daniela Mora',14,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('PW-303-01','PW-303','Constanza Herrera',21,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('PW-303-02','PW-303','Constanza Herrera',11,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('INGE-304-01','INGE-304','Diego Bustos',25,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('INGE-304-02','INGE-304','Beatriz Morales',13,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('PFC-305-01','PFC-305','Marcela Ortega',22,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('PFC-305-02','PFC-305','Laura Gómez',14,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('MEMP-306-01','MEMP-306','Andrés Calderón',21,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('MEMP-306-02','MEMP-306','Víctor Mella',12,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('PORT3-307-01','PORT3-307','José Pérez',18,'Lunes y Miércoles 09:00 - 10:30','Diurno'),
('PORT3-307-02','PORT3-307','Karina Paz',11,'Lunes y Miércoles 19:30 - 21:00','Vespertino'),
('PAM-401-01','PAM-401','Laura Gómez',18,'Martes y Jueves 11:30 - 13:00','Diurno'),
('PAM-401-02','PAM-401','Lorena Salazar',12,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('INGI-402-01','INGI-402','Carlos Ibáñez',24,'Martes y Jueves 11:30 - 13:00','Diurno'),
('INGI-402-02','INGI-402','Andrés Calderón',12,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('ARQ-403-01','ARQ-403','Paula Gutiérrez',19,'Martes y Jueves 11:30 - 13:00','Diurno'),
('ARQ-403-02','ARQ-403','Alejandro Contreras',11,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('CALS-404-01','CALS-404','Raúl Vega',23,'Martes y Jueves 11:30 - 13:00','Diurno'),
('CALS-404-02','CALS-404','Raúl Vega',11,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('ESTD-405-01','ESTD-405','Lorena Salazar',25,'Martes y Jueves 11:30 - 13:00','Diurno'),
('ESTD-405-02','ESTD-405','Elena Ríos',13,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('EPT-406-01','EPT-406','Sergio Valdés',25,'Martes y Jueves 11:30 - 13:00','Diurno'),
('EPT-406-02','EPT-406','Pedro Luna',11,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('PORT4-407-01','PORT4-407','Elena Ríos',22,'Martes y Jueves 11:30 - 13:00','Diurno'),
('PORT4-407-02','PORT4-407','Rodrigo Rivas',11,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('INGA-501-01','INGA-501','Pedro Luna',21,'Martes y Jueves 11:30 - 13:00','Diurno'),
('INGA-501-02','INGA-501','Javiera Pino',14,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('INTPL-502-01','INTPL-502','Víctor Mella',22,'Martes y Jueves 11:30 - 13:00','Diurno'),
('INTPL-502-02','INTPL-502','Natalia Fuentes',14,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('EVPR-503-01','EVPR-503','Beatriz Morales',24,'Martes y Jueves 11:30 - 13:00','Diurno'),
('EVPR-503-02','EVPR-503','Carlos Ibáñez',14,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('BPM-504-01','BPM-504','Valeria Castro',24,'Martes y Jueves 11:30 - 13:00','Diurno'),
('BPM-504-02','BPM-504','José Pérez',12,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('TCS-505-01','TCS-505','Daniela Mora',21,'Martes y Jueves 11:30 - 13:00','Diurno'),
('TCS-505-02','TCS-505','Paula Gutiérrez',11,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('PORT5-506-01','PORT5-506','Alejandro Contreras',25,'Martes y Jueves 11:30 - 13:00','Diurno'),
('PORT5-506-02','PORT5-506','Marcela Ortega',10,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('PLAB-507-01','PLAB-507','Rodrigo Rivas',18,'Martes y Jueves 11:30 - 13:00','Diurno'),
('PLAB-507-02','PLAB-507','Valeria Castro',10,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('SSC-601-01','SSC-601','Javiera Pino',20,'Martes y Jueves 11:30 - 13:00','Diurno'),
('SSC-601-02','SSC-601','Sergio Valdés',11,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('GPI-602-01','GPI-602','Natalia Fuentes',24,'Martes y Jueves 11:30 - 13:00','Diurno'),
('GPI-602-02','GPI-602','Diego Bustos',14,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('INEG-603-01','INEG-603','Karina Paz',19,'Martes y Jueves 11:30 - 13:00','Diurno'),
('INEG-603-02','INEG-603','Daniela Mora',13,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('ML-604-01','ML-604','Constanza Herrera',24,'Martes y Jueves 11:30 - 13:00','Diurno'),
('ML-604-02','ML-604','Constanza Herrera',14,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('HEMP-605-01','HEMP-605','Diego Bustos',25,'Martes y Jueves 11:30 - 13:00','Diurno'),
('HEMP-605-02','HEMP-605','Beatriz Morales',14,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('IEP-606-01','IEP-606','Marcela Ortega',22,'Martes y Jueves 11:30 - 13:00','Diurno'),
('IEP-606-02','IEP-606','Laura Gómez',14,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('ETIP-607-01','ETIP-607','Andrés Calderón',18,'Martes y Jueves 11:30 - 13:00','Diurno'),
('ETIP-607-02','ETIP-607','Víctor Mella',10,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('PORT6-608-01','PORT6-608','José Pérez',22,'Martes y Jueves 11:30 - 13:00','Diurno'),
('PORT6-608-02','PORT6-608','Karina Paz',12,'Martes y Jueves 20:00 - 21:30','Vespertino'),
('GDRI-701-01','GDRI-701','Laura Gómez',19,'Martes y Jueves 14:00 - 15:30','Diurno'),
('GDRI-701-02','GDRI-701','Lorena Salazar',12,'Viernes 19:30 - 21:30','Vespertino'),
('BDAT-702-01','BDAT-702','Carlos Ibáñez',24,'Martes y Jueves 14:00 - 15:30','Diurno'),
('BDAT-702-02','BDAT-702','Andrés Calderón',11,'Viernes 19:30 - 21:30','Vespertino'),
('MIND-703-01','MIND-703','Paula Gutiérrez',25,'Martes y Jueves 14:00 - 15:30','Diurno'),
('MIND-703-02','MIND-703','Alejandro Contreras',10,'Viernes 19:30 - 21:30','Vespertino'),
('DL-704-01','DL-704','Raúl Vega',22,'Martes y Jueves 14:00 - 15:30','Diurno'),
('DL-704-02','DL-704','Raúl Vega',14,'Viernes 19:30 - 21:30','Vespertino'),
('PORTF-705-01','PORTF-705','Lorena Salazar',20,'Martes y Jueves 14:00 - 15:30','Diurno'),
('PORTF-705-02','PORTF-705','Elena Ríos',14,'Viernes 19:30 - 21:30','Vespertino'),
('PPRO-801-01','PPRO-801','Sergio Valdés',19,'Martes y Jueves 14:00 - 15:30','Diurno'),
('PPRO-801-02','PPRO-801','Pedro Luna',12,'Viernes 19:30 - 21:30','Vespertino'),
('CAP-802-01','CAP-802','Elena Ríos',21,'Martes y Jueves 14:00 - 15:30','Diurno'),
('CAP-802-02','CAP-802','Rodrigo Rivas',11,'Viernes 19:30 - 21:30','Vespertino');

COMMIT;
